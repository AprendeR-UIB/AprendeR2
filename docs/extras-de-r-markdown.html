<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Lección 12 Extras de R Markdown | AprendeR: Parte II</title>
  <meta name="description" content="Apuntes AprendeR bookdown::gitbook.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Lección 12 Extras de R Markdown | AprendeR: Parte II" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Apuntes AprendeR bookdown::gitbook." />
  <meta name="github-repo" content="AprendeR-UIB/AprendeR2" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lección 12 Extras de R Markdown | AprendeR: Parte II" />
  
  <meta name="twitter:description" content="Apuntes AprendeR bookdown::gitbook." />
  

<meta name="author" content="The UIB-AprendeR team">


<meta name="date" content="2020-03-18">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="chap-clustering.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">AprendeR: Parte II</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Presentación</a></li>
<li class="part"><span><b>Parte II: Estadística inferencial</b></span></li>
<li class="chapter" data-level="1" data-path="chap-distr.html"><a href="chap-distr.html"><i class="fa fa-check"></i><b>1</b> Distribuciones de probabilidad</a><ul>
<li class="chapter" data-level="1.1" data-path="chap-distr.html"><a href="chap-distr.html#ejercicios"><i class="fa fa-check"></i><b>1.1</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-distr.html"><a href="chap-distr.html#test"><i class="fa fa-check"></i>Test</a></li>
<li class="chapter" data-level="" data-path="chap-distr.html"><a href="chap-distr.html#problemas"><i class="fa fa-check"></i>Problemas</a></li>
<li class="chapter" data-level="" data-path="chap-distr.html"><a href="chap-distr.html#respuestas-al-test"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-distr.html"><a href="chap-distr.html#soluciones-sucintas-de-los-problemas"><i class="fa fa-check"></i>Soluciones sucintas de los problemas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chap-muestreo.html"><a href="chap-muestreo.html"><i class="fa fa-check"></i><b>2</b> Conceptos básicos de muestreo</a><ul>
<li class="chapter" data-level="2.1" data-path="chap-muestreo.html"><a href="chap-muestreo.html#sec:muestreo"><i class="fa fa-check"></i><b>2.1</b> Tipos de muestreo</a></li>
<li class="chapter" data-level="2.2" data-path="chap-muestreo.html"><a href="chap-muestreo.html#muestreo-aleatorio-con-r"><i class="fa fa-check"></i><b>2.2</b> Muestreo aleatorio con R</a></li>
<li class="chapter" data-level="2.3" data-path="chap-muestreo.html"><a href="chap-muestreo.html#guia-rapida"><i class="fa fa-check"></i><b>2.3</b> Guía rápida</a></li>
<li class="chapter" data-level="2.4" data-path="chap-muestreo.html"><a href="chap-muestreo.html#ejercicios-1"><i class="fa fa-check"></i><b>2.4</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-muestreo.html"><a href="chap-muestreo.html#test-1"><i class="fa fa-check"></i>Test</a></li>
<li class="chapter" data-level="" data-path="chap-muestreo.html"><a href="chap-muestreo.html#problemas-1"><i class="fa fa-check"></i>Problemas</a></li>
<li class="chapter" data-level="" data-path="chap-muestreo.html"><a href="chap-muestreo.html#respuestas-al-test-1"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-muestreo.html"><a href="chap-muestreo.html#soluciones-sucintas-de-los-problemas-1"><i class="fa fa-check"></i>Soluciones sucintas de los problemas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap-estimacion.html"><a href="chap-estimacion.html"><i class="fa fa-check"></i><b>3</b> Estimación puntual</a><ul>
<li class="chapter" data-level="3.1" data-path="chap-estimacion.html"><a href="chap-estimacion.html#estimacion-maximo-verosimil"><i class="fa fa-check"></i><b>3.1</b> Estimación máximo verosímil</a></li>
<li class="chapter" data-level="3.2" data-path="chap-estimacion.html"><a href="chap-estimacion.html#guia-rapida-1"><i class="fa fa-check"></i><b>3.2</b> Guía rápida</a></li>
<li class="chapter" data-level="3.3" data-path="chap-estimacion.html"><a href="chap-estimacion.html#ejercicios-2"><i class="fa fa-check"></i><b>3.3</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-estimacion.html"><a href="chap-estimacion.html#test-2"><i class="fa fa-check"></i>Test</a></li>
<li class="chapter" data-level="" data-path="chap-estimacion.html"><a href="chap-estimacion.html#problemas-2"><i class="fa fa-check"></i>Problemas</a></li>
<li class="chapter" data-level="" data-path="chap-estimacion.html"><a href="chap-estimacion.html#respuestas-al-test-2"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-estimacion.html"><a href="chap-estimacion.html#soluciones-sucintas-de-los-problemas-2"><i class="fa fa-check"></i>Soluciones sucintas de los problemas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chap-IC.html"><a href="chap-IC.html"><i class="fa fa-check"></i><b>4</b> Intervalos de confianza</a><ul>
<li class="chapter" data-level="4.1" data-path="chap-IC.html"><a href="chap-IC.html#sec:ICT"><i class="fa fa-check"></i><b>4.1</b> Intervalo de confianza para la media basado en la t de Student</a></li>
<li class="chapter" data-level="4.2" data-path="chap-IC.html"><a href="chap-IC.html#intervalos-de-confianza-para-la-proporcion-poblacional"><i class="fa fa-check"></i><b>4.2</b> Intervalos de confianza para la proporción poblacional</a></li>
<li class="chapter" data-level="4.3" data-path="chap-IC.html"><a href="chap-IC.html#sec:ICvar"><i class="fa fa-check"></i><b>4.3</b> Intervalo de confianza para la varianza de una población normal</a></li>
<li class="chapter" data-level="4.4" data-path="chap-IC.html"><a href="chap-IC.html#bootstrap"><i class="fa fa-check"></i><b>4.4</b> Bootstrap</a></li>
<li class="chapter" data-level="4.5" data-path="chap-IC.html"><a href="chap-IC.html#guia-rapida-2"><i class="fa fa-check"></i><b>4.5</b> Guía rápida</a></li>
<li class="chapter" data-level="4.6" data-path="chap-IC.html"><a href="chap-IC.html#ejercicios-3"><i class="fa fa-check"></i><b>4.6</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-IC.html"><a href="chap-IC.html#test-3"><i class="fa fa-check"></i>Test</a></li>
<li class="chapter" data-level="" data-path="chap-IC.html"><a href="chap-IC.html#problemas-3"><i class="fa fa-check"></i>Problemas</a></li>
<li class="chapter" data-level="" data-path="chap-IC.html"><a href="chap-IC.html#respuestas-al-test-3"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-IC.html"><a href="chap-IC.html#soluciones-sucintas-de-los-problemas-3"><i class="fa fa-check"></i>Soluciones sucintas de los problemas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-contrastes.html"><a href="chap-contrastes.html"><i class="fa fa-check"></i><b>5</b> Contrastes de hipótesis</a><ul>
<li class="chapter" data-level="5.1" data-path="chap-contrastes.html"><a href="chap-contrastes.html#contrastes-para-medias"><i class="fa fa-check"></i><b>5.1</b> Contrastes para medias</a><ul>
<li class="chapter" data-level="" data-path="chap-contrastes.html"><a href="chap-contrastes.html#el-test-t"><i class="fa fa-check"></i>El test t</a></li>
<li class="chapter" data-level="" data-path="chap-contrastes.html"><a href="chap-contrastes.html#tests-no-parametricos"><i class="fa fa-check"></i>Tests no paramétricos</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="chap-contrastes.html"><a href="chap-contrastes.html#contrastes-para-varianzas"><i class="fa fa-check"></i><b>5.2</b> Contrastes para varianzas</a></li>
<li class="chapter" data-level="5.3" data-path="chap-contrastes.html"><a href="chap-contrastes.html#contrastes-para-proporciones"><i class="fa fa-check"></i><b>5.3</b> Contrastes para proporciones</a></li>
<li class="chapter" data-level="5.4" data-path="chap-contrastes.html"><a href="chap-contrastes.html#calculo-de-la-potencia-de-un-contraste"><i class="fa fa-check"></i><b>5.4</b> Cálculo de la potencia de un contraste</a></li>
<li class="chapter" data-level="5.5" data-path="chap-contrastes.html"><a href="chap-contrastes.html#guia-rapida-3"><i class="fa fa-check"></i><b>5.5</b> Guía rápida</a></li>
<li class="chapter" data-level="5.6" data-path="chap-contrastes.html"><a href="chap-contrastes.html#ejercicios-4"><i class="fa fa-check"></i><b>5.6</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-contrastes.html"><a href="chap-contrastes.html#modelo-de-test"><i class="fa fa-check"></i>Modelo de test</a></li>
<li class="chapter" data-level="" data-path="chap-contrastes.html"><a href="chap-contrastes.html#ejercicios-5"><i class="fa fa-check"></i>Ejercicios</a></li>
<li class="chapter" data-level="" data-path="chap-contrastes.html"><a href="chap-contrastes.html#respuestas-al-test-4"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-contrastes.html"><a href="chap-contrastes.html#respuestas-sucintas-a-los-ejercicios"><i class="fa fa-check"></i>Respuestas sucintas a los ejercicios</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chap-bondad.html"><a href="chap-bondad.html"><i class="fa fa-check"></i><b>6</b> Contrastes de bondad de ajuste</a><ul>
<li class="chapter" data-level="6.1" data-path="chap-bondad.html"><a href="chap-bondad.html#pruebas-graficas-q-q-plots"><i class="fa fa-check"></i><b>6.1</b> Pruebas gráficas: Q-Q-plots</a></li>
<li class="chapter" data-level="6.2" data-path="chap-bondad.html"><a href="chap-bondad.html#el-test-chi2-de-pearson"><i class="fa fa-check"></i><b>6.2</b> El test <span class="math inline">\(\chi^2\)</span> de Pearson</a></li>
<li class="chapter" data-level="6.3" data-path="chap-bondad.html"><a href="chap-bondad.html#el-test-chi2-para-distribuciones-continuas"><i class="fa fa-check"></i><b>6.3</b> El test <span class="math inline">\(\chi^2\)</span> para distribuciones continuas</a></li>
<li class="chapter" data-level="6.4" data-path="chap-bondad.html"><a href="chap-bondad.html#el-test-de-kolgomorov-smirnov"><i class="fa fa-check"></i><b>6.4</b> El test de Kolgomorov-Smirnov</a></li>
<li class="chapter" data-level="6.5" data-path="chap-bondad.html"><a href="chap-bondad.html#tests-de-normalidad"><i class="fa fa-check"></i><b>6.5</b> Tests de normalidad</a></li>
<li class="chapter" data-level="6.6" data-path="chap-bondad.html"><a href="chap-bondad.html#guia-rapida-4"><i class="fa fa-check"></i><b>6.6</b> Guía rápida</a></li>
<li class="chapter" data-level="6.7" data-path="chap-bondad.html"><a href="chap-bondad.html#ejercicios-6"><i class="fa fa-check"></i><b>6.7</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-bondad.html"><a href="chap-bondad.html#modelo-de-test-1"><i class="fa fa-check"></i>Modelo de test</a></li>
<li class="chapter" data-level="" data-path="chap-bondad.html"><a href="chap-bondad.html#problemas-4"><i class="fa fa-check"></i>Problemas</a></li>
<li class="chapter" data-level="" data-path="chap-bondad.html"><a href="chap-bondad.html#respuestas-al-test-5"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-bondad.html"><a href="chap-bondad.html#soluciones-sucintas-de-los-problemas-4"><i class="fa fa-check"></i>Soluciones sucintas de los problemas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chap-indep.html"><a href="chap-indep.html"><i class="fa fa-check"></i><b>7</b> Contrastes de independencia y homogeneidad</a><ul>
<li class="chapter" data-level="7.1" data-path="chap-indep.html"><a href="chap-indep.html#tablas-de-contingencia"><i class="fa fa-check"></i><b>7.1</b> Tablas de contingencia</a></li>
<li class="chapter" data-level="7.2" data-path="chap-indep.html"><a href="chap-indep.html#contraste-de-independencia"><i class="fa fa-check"></i><b>7.2</b> Contraste de independencia</a></li>
<li class="chapter" data-level="7.3" data-path="chap-indep.html"><a href="chap-indep.html#sec:hom"><i class="fa fa-check"></i><b>7.3</b> Contraste de homogeneidad</a></li>
<li class="chapter" data-level="7.4" data-path="chap-indep.html"><a href="chap-indep.html#potencia-de-un-contraste-chi2"><i class="fa fa-check"></i><b>7.4</b> Potencia de un contraste <span class="math inline">\(\chi^2\)</span></a></li>
<li class="chapter" data-level="7.5" data-path="chap-indep.html"><a href="chap-indep.html#guia-rapida-5"><i class="fa fa-check"></i><b>7.5</b> Guía rápida</a></li>
<li class="chapter" data-level="7.6" data-path="chap-indep.html"><a href="chap-indep.html#ejercicios-7"><i class="fa fa-check"></i><b>7.6</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-indep.html"><a href="chap-indep.html#modelo-de-test-2"><i class="fa fa-check"></i>Modelo de test</a></li>
<li class="chapter" data-level="" data-path="chap-indep.html"><a href="chap-indep.html#ejercicios-8"><i class="fa fa-check"></i>Ejercicios</a></li>
<li class="chapter" data-level="" data-path="chap-indep.html"><a href="chap-indep.html#respuestas-al-test-6"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-indep.html"><a href="chap-indep.html#soluciones-sucintas-de-los-problemas-5"><i class="fa fa-check"></i>Soluciones sucintas de los problemas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chap-estmult.html"><a href="chap-estmult.html"><i class="fa fa-check"></i><b>8</b> Introducción a la estadística descriptiva multidimensional</a><ul>
<li class="chapter" data-level="8.1" data-path="chap-estmult.html"><a href="chap-estmult.html#matrices-de-datos-cuantitativos"><i class="fa fa-check"></i><b>8.1</b> Matrices de datos cuantitativos</a></li>
<li class="chapter" data-level="8.2" data-path="chap-estmult.html"><a href="chap-estmult.html#transformaciones-lineales"><i class="fa fa-check"></i><b>8.2</b> Transformaciones lineales</a></li>
<li class="chapter" data-level="8.3" data-path="chap-estmult.html"><a href="chap-estmult.html#covarianzas-y-correlaciones"><i class="fa fa-check"></i><b>8.3</b> Covarianzas y correlaciones</a></li>
<li class="chapter" data-level="8.4" data-path="chap-estmult.html"><a href="chap-estmult.html#correlacion-de-spearman"><i class="fa fa-check"></i><b>8.4</b> Correlación de Spearman</a></li>
<li class="chapter" data-level="8.5" data-path="chap-estmult.html"><a href="chap-estmult.html#contrastes-de-correlacion"><i class="fa fa-check"></i><b>8.5</b> Contrastes de correlación</a></li>
<li class="chapter" data-level="8.6" data-path="chap-estmult.html"><a href="chap-estmult.html#un-ejemplo"><i class="fa fa-check"></i><b>8.6</b> Un ejemplo</a></li>
<li class="chapter" data-level="8.7" data-path="chap-estmult.html"><a href="chap-estmult.html#representacion-grafica-de-datos-multidimensionales"><i class="fa fa-check"></i><b>8.7</b> Representación gráfica de datos multidimensionales</a></li>
<li class="chapter" data-level="8.8" data-path="chap-estmult.html"><a href="chap-estmult.html#guia-rapida-6"><i class="fa fa-check"></i><b>8.8</b> Guía rápida</a></li>
<li class="chapter" data-level="8.9" data-path="chap-estmult.html"><a href="chap-estmult.html#ejercicios-9"><i class="fa fa-check"></i><b>8.9</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-estmult.html"><a href="chap-estmult.html#modelo-de-test-3"><i class="fa fa-check"></i>Modelo de test</a></li>
<li class="chapter" data-level="" data-path="chap-estmult.html"><a href="chap-estmult.html#problemas-5"><i class="fa fa-check"></i>Problemas</a></li>
<li class="chapter" data-level="" data-path="chap-estmult.html"><a href="chap-estmult.html#respuestas-al-test-7"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="" data-path="chap-estmult.html"><a href="chap-estmult.html#soluciones-sucintas-de-los-problemas-6"><i class="fa fa-check"></i>Soluciones sucintas de los problemas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html"><i class="fa fa-check"></i><b>9</b> ANOVA básico</a><ul>
<li class="chapter" data-level="9.1" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#sec:modelos"><i class="fa fa-check"></i><b>9.1</b> Los modelos del ANOVA en R</a></li>
<li class="chapter" data-level="9.2" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#sec:ANOVA-1"><i class="fa fa-check"></i><b>9.2</b> ANOVA de un factor</a></li>
<li class="chapter" data-level="9.3" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#anova-de-bloques-completos-aleatorios"><i class="fa fa-check"></i><b>9.3</b> ANOVA de bloques completos aleatorios</a></li>
<li class="chapter" data-level="9.4" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#sec:ANOVA2"><i class="fa fa-check"></i><b>9.4</b> ANOVA de dos vías</a></li>
<li class="chapter" data-level="9.5" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#condiciones-del-anova"><i class="fa fa-check"></i><b>9.5</b> Condiciones del ANOVA</a></li>
<li class="chapter" data-level="9.6" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#sec:pares"><i class="fa fa-check"></i><b>9.6</b> Comparaciones de pares de medias</a><ul>
<li class="chapter" data-level="9.6.1" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#tests-t-por-parejas"><i class="fa fa-check"></i><b>9.6.1</b> Tests t por parejas</a></li>
<li class="chapter" data-level="9.6.2" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#test-de-duncan"><i class="fa fa-check"></i><b>9.6.2</b> Test de Duncan</a></li>
<li class="chapter" data-level="9.6.3" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#metodo-de-tukey"><i class="fa fa-check"></i><b>9.6.3</b> Método de Tukey</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#metodos-no-parametricos"><i class="fa fa-check"></i><b>9.7</b> Métodos no paramétricos</a></li>
<li class="chapter" data-level="9.8" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#guia-rapida-7"><i class="fa fa-check"></i><b>9.8</b> Guía rápida</a></li>
<li class="chapter" data-level="9.9" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#ejercicios-10"><i class="fa fa-check"></i><b>9.9</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#test-4"><i class="fa fa-check"></i>Test</a></li>
<li class="chapter" data-level="9.9.1" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#ejercicio"><i class="fa fa-check"></i><b>9.9.1</b> Ejercicio</a></li>
<li class="chapter" data-level="" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#respuestas-al-test-8"><i class="fa fa-check"></i>Respuestas al test</a></li>
<li class="chapter" data-level="9.9.2" data-path="chap-ANOVA.html"><a href="chap-ANOVA.html#soluciones-sucintas-del-ejercicio"><i class="fa fa-check"></i><b>9.9.2</b> Soluciones sucintas del ejercicio</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="chap-regresion.html"><a href="chap-regresion.html"><i class="fa fa-check"></i><b>10</b> Regresión lineal</a><ul>
<li class="chapter" data-level="10.1" data-path="chap-regresion.html"><a href="chap-regresion.html#sec:1"><i class="fa fa-check"></i><b>10.1</b> El modelo de regresión lineal en R</a></li>
<li class="chapter" data-level="10.2" data-path="chap-regresion.html"><a href="chap-regresion.html#intervalos-de-confianza-en-el-modelo-de-regresion-lineal"><i class="fa fa-check"></i><b>10.2</b> Intervalos de confianza en el modelo de regresión lineal</a></li>
<li class="chapter" data-level="10.3" data-path="chap-regresion.html"><a href="chap-regresion.html#sec:seleccion"><i class="fa fa-check"></i><b>10.3</b> Selección del modelo en base al ajuste de los datos</a></li>
<li class="chapter" data-level="10.4" data-path="chap-regresion.html"><a href="chap-regresion.html#sec:diagn"><i class="fa fa-check"></i><b>10.4</b> Diagnósticos de regresión</a></li>
<li class="chapter" data-level="10.5" data-path="chap-regresion.html"><a href="chap-regresion.html#guia-rapida-8"><i class="fa fa-check"></i><b>10.5</b> Guía rápida</a></li>
<li class="chapter" data-level="10.6" data-path="chap-regresion.html"><a href="chap-regresion.html#ejercicios-11"><i class="fa fa-check"></i><b>10.6</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-regresion.html"><a href="chap-regresion.html#test-5"><i class="fa fa-check"></i>Test</a></li>
<li class="chapter" data-level="" data-path="chap-regresion.html"><a href="chap-regresion.html#respuestas-al-test-9"><i class="fa fa-check"></i>Respuestas al test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="chap-clustering.html"><a href="chap-clustering.html"><i class="fa fa-check"></i><b>11</b> <em>Clustering</em> básico</a><ul>
<li class="chapter" data-level="11.1" data-path="chap-clustering.html"><a href="chap-clustering.html#metodo-de-k-medias-o-k-means"><i class="fa fa-check"></i><b>11.1</b> Método de k-medias o <em>k-means</em></a></li>
<li class="chapter" data-level="11.2" data-path="chap-clustering.html"><a href="chap-clustering.html#eleccion-del-numero-de-clusters"><i class="fa fa-check"></i><b>11.2</b> Elección del número de <em>clusters</em></a></li>
<li class="chapter" data-level="11.3" data-path="chap-clustering.html"><a href="chap-clustering.html#metodos-jerarquicos-aglomerativos"><i class="fa fa-check"></i><b>11.3</b> Métodos jerárquicos aglomerativos</a></li>
<li class="chapter" data-level="11.4" data-path="chap-clustering.html"><a href="chap-clustering.html#guia-rapida-9"><i class="fa fa-check"></i><b>11.4</b> Guía rápida</a></li>
<li class="chapter" data-level="11.5" data-path="chap-clustering.html"><a href="chap-clustering.html#ejercicios-12"><i class="fa fa-check"></i><b>11.5</b> Ejercicios</a><ul>
<li class="chapter" data-level="" data-path="chap-clustering.html"><a href="chap-clustering.html#test-6"><i class="fa fa-check"></i>Test</a></li>
<li class="chapter" data-level="" data-path="chap-clustering.html"><a href="chap-clustering.html#respuestas-al-test-10"><i class="fa fa-check"></i>Respuestas al test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="extras-de-r-markdown.html"><a href="extras-de-r-markdown.html"><i class="fa fa-check"></i><b>12</b> Extras de <em>R Markdown</em></a><ul>
<li class="chapter" data-level="12.1" data-path="extras-de-r-markdown.html"><a href="extras-de-r-markdown.html#parametros-de-los-chunks-de-r"><i class="fa fa-check"></i><b>12.1</b> Parámetros de los <em>chunks</em> de R</a></li>
<li class="chapter" data-level="12.2" data-path="extras-de-r-markdown.html"><a href="extras-de-r-markdown.html#los-chunks-en-modo-linea"><i class="fa fa-check"></i><b>12.2</b> Los <em>chunks</em> en modo línea</a></li>
<li class="chapter" data-level="12.3" data-path="extras-de-r-markdown.html"><a href="extras-de-r-markdown.html#figuras"><i class="fa fa-check"></i><b>12.3</b> Figuras</a></li>
<li class="chapter" data-level="12.4" data-path="extras-de-r-markdown.html"><a href="extras-de-r-markdown.html#tablas"><i class="fa fa-check"></i><b>12.4</b> Tablas</a></li>
<li class="chapter" data-level="12.5" data-path="extras-de-r-markdown.html"><a href="extras-de-r-markdown.html#formulas-matematicas"><i class="fa fa-check"></i><b>12.5</b> Fórmulas matemáticas</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AprendeR: Parte II</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="extras-de-r-markdown" class="section level1">
<h1><span class="header-section-number">Lección 12</span> Extras de <em>R Markdown</em></h1>
<p>Para la mayor parte de las necesidades de este curso en lo que se refiere a composición de ficheros <em>R Markdown</em>, el documento <em>Markdown Quick Reference</em> que encontraréis en el menú <strong>Help</strong> de <em>RStudio</em> es más que suficiente. En esta lección, vamos a ampliar diversos puntos:</p>
<ul>
<li>Cómo controlar el comportamiento de los bloques de código o <em>chunks</em> al compilar el fichero <em>R Markdown</em>, y su aspecto en el documento final.</li>
<li>Cómo controlar el aspecto de los gráficos producidos en los <em>chunks</em>.</li>
<li>Cómo incluir de manera sencilla tablas bien formateadas producidas con R.</li>
<li>Cómo escribir fórmulas matemáticas bien formateadas.</li>
</ul>
<div id="parametros-de-los-chunks-de-r" class="section level2">
<h2><span class="header-section-number">12.1</span> Parámetros de los <em>chunks</em> de R</h2>
<p>Los bloques de código de R, o <em>chunks</em>, se indican dentro de un documento <em>R Markdown</em> de la manera siguiente:</p>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r}</span>
<span class="bn"># Y aquí el código de R </span>
<span class="bn">```</span></code></pre>
<p>Para crear un bloque de código, podemos usar el menú <em>Insert</em> de la barra superior de la ventana de ficheros. Si no queréis usar ese menú, tened en cuenta que cada signo <code>`</code> se produce con un acento grave seguido de un espacio en blanco.</p>
<p>La parte entre llaves de la línea que abre el <em>chunk</em> puede contener una <strong>etiqueta</strong> (un nombre que sirva para identificar el <em>chunk</em>), separada de la <code>r</code> inicial por un espacio en blanco, y diversos parámetros. Estos parámetros se separan de la <code>r</code> (o de la etiqueta, si la hay) por una coma y entre ellos también con comas, y permiten determinar el comportamiento del bloque al compilar el documento pulsando el botón <em>Knit</em>. Los parámetros más útiles son:</p>
<ul>
<li><p><strong>echo</strong>: permite indicar si se ha de mostrar el código fuente de R en el documento final; su valor por defecto es <code>TRUE</code>, y si lo igualáis a <code>FALSE</code>, no lo mostrará, dando sólo el resultado.</p></li>
<li><p><strong>eval</strong>: permite indicar si queremos que se evalúe el código; su valor por defecto es <code>TRUE</code>, y si lo igualáis a <code>FALSE</code>, no lo evaluará.</p></li>
<li><p><strong>results</strong>: permite indicar cómo queremos ver el resultado de la ejecución del código en el documento final. Sus posibles valores son (y fijaos que hay que entrarlos entre comillas, porque son palabras):</p>
<ul>
<li><p><code>&quot;hide&quot;</code>, hace que no se muestre el resultado en el documento final.</p></li>
<li><p><code>&quot;markup&quot;</code>, que es su valor por defecto, muestra los resultados en el documento final línea a línea,
encabezados con dos marcas de comentario <code>##</code>, y literales, sin que el programa que abre el documento final los interprete como código.</p></li>
<li><p><code>&quot;asis&quot;</code>, devuelve los resultados en el documento final línea a línea y el programa con el que se abre el documento final los interpreta como texto y los formatea adecuadamente.</p></li>
<li><p><code>&quot;hold&quot;</code>, muestra todos los resultados de golpe al final del bloque de código.</p></li>
</ul>
<p>Observad que no es lo mismo especificar que no se evalúe el código (<code>eval=FALSE</code>) que hacer que se evalúe, pero no mostrar el resultado (<code>results=&quot;hide&quot;</code>): en el segundo caso, el resultado del cálculo no aparecerá en el documento final, pero se podrá usar en bloques de código posteriores.</p></li>
<li><p><strong>message</strong>: permite indicar si se han de mostrar en el documento final los mensajes que R produce al ejecutar el código; su valor por defecto es <code>TRUE</code>, y si lo igualáis a <code>FALSE</code> no los muestra.</p></li>
<li><p><strong>warning</strong>: permite indicar si se han de mostrar en el documento final los mensajes de advertencia que a veces producen algunas funciones al ejecutarse; como antes, su valor por defecto es <code>TRUE</code>, y si lo igualáis a <code>FALSE</code> no los muestra.</p></li>
<li><p><strong>include</strong>: permite indicar si queremos “incluir” el <em>chunk</em> en el documento final: su valor por defecto es, naturalmente, <code>TRUE</code>, pero igualado a <code>FALSE</code> no deja ninguna traza del <em>chunk</em> en el documento final (aunque sí que lo ejecuta, así que más adelante podemos usar sus resultados).</p></li>
</ul>
<p>Para cada parámetro, el valor por defecto no tiene por qué especificarse.</p>
<p>Veamos a continuación algunos ejemplos:</p>
<ul>
<li>El bloque (con los valores por defecto para <code>echo</code> y <code>results</code>, así que no importaría especificarlos)</li>
</ul>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r,echo=TRUE,results=&quot;markup&quot;}</span>
<span class="bn">x=1:10</span>
<span class="bn">x</span>
<span class="bn">sqrt(x)</span>
<span class="bn">```</span></code></pre>
<p>produce, en el documento final:</p>
<pre class="sourceCode r"><code class="sourceCode r">x=<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
x</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(x)</code></pre>
<pre><code>##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751
##  [8] 2.828427 3.000000 3.162278</code></pre>
<ul>
<li>El bloque</li>
</ul>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r,echo=TRUE,results=&quot;asis&quot;}</span>
<span class="bn">x=1:10</span>
<span class="bn">x</span>
<span class="bn">sqrt(x)</span>
<span class="bn">```</span></code></pre>
<p>produce, en el documento final:</p>
<pre class="sourceCode r"><code class="sourceCode r">x=<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
x</code></pre>
<p>[1] 1 2 3 4 5 6 7 8 9 10</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(x)</code></pre>
<p>[1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751
[8] 2.828427 3.000000 3.162278</p>
<ul>
<li>El bloque</li>
</ul>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r,echo=TRUE,results=&quot;hold&quot;}</span>
<span class="bn">x=1:10</span>
<span class="bn">x</span>
<span class="bn">sqrt(x)</span>
<span class="bn">```</span></code></pre>
<p>produce, en el documento final:</p>
<pre class="sourceCode r"><code class="sourceCode r">x=<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
x
<span class="kw">sqrt</span>(x)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10
##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751
##  [8] 2.828427 3.000000 3.162278</code></pre>
<ul>
<li>El bloque</li>
</ul>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r,echo=FALSE}</span>
<span class="bn">x=1:10</span>
<span class="bn">x</span>
<span class="bn">sqrt(x)</span>
<span class="bn">```</span></code></pre>
<p>no aparece en el documento final, y sólo se muestra el resultado:</p>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre><code>##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751
##  [8] 2.828427 3.000000 3.162278</code></pre>
<ul>
<li>El bloque</li>
</ul>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r,echo=TRUE,message=TRUE}</span>
<span class="bn">library(magic)</span>
<span class="bn">magic(5)</span>
<span class="bn">```</span></code></pre>
<p>produce, en el documento final:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(magic)</code></pre>
<pre><code>## Loading required package: abind</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">magic</span>(<span class="dv">5</span>)</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    9    2   25   18   11
## [2,]    3   21   19   12   10
## [3,]   22   20   13    6    4
## [4,]   16   14    7    5   23
## [5,]   15    8    1   24   17</code></pre>
<ul>
<li>El bloque</li>
</ul>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r,echo=TRUE,message=FALSE}</span>
<span class="bn">library(magic)</span>
<span class="bn">magic(5)</span>
<span class="bn">```</span></code></pre>
<p>produce, en el documento final:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(magic)
<span class="kw">magic</span>(<span class="dv">5</span>)</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    9    2   25   18   11
## [2,]    3   21   19   12   10
## [3,]   22   20   13    6    4
## [4,]   16   14    7    5   23
## [5,]   15    8    1   24   17</code></pre>
<p>Si queréis cambiar el valor de algún parámetro en todos los <em>chunks</em> de un documento, por ejemplo para esconderlos todos (con <code>echo=FALSE</code>) o para modificar las dimensiones de la figuras como explicaremos más adelante, lo más práctico es incluir al principio del fichero <em>R Markdown</em> un <em>chunk</em> de opciones globales, indicado con la etiqueta <code>global_options</code>. En este <em>chunk</em> las opcions globales se han de incluir en el argumento de la función</p>
<pre class="sourceCode r"><code class="sourceCode r">opts_chunk<span class="op">$</span><span class="kw">set</span>(...)</code></pre>
<p>del paquete <strong>knitr</strong>. También es una buena idea cargar en este <em>chunk</em> todos los paquetes que se van a usar en el documento. Y como seguramente no querréis que se note su existencia en el documento final, usad la opción <code>include=FALSE</code>. Así, por ejemplo, incluyendo al principio del fichero <em>R Markdown</em> el <em>chunk</em></p>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r global_options, include=FALSE}</span>
<span class="bn">library(knitr)</span>
<span class="bn">opts_chunk$set(</span>
<span class="bn">  echo=FALSE, </span>
<span class="bn">  message=FALSE,</span>
<span class="bn">  warning=FALSE</span>
<span class="bn">)</span>
<span class="bn">```</span></code></pre>
<p>especificamos que, por defecto, en el documento final no aparezcan ni los bloques de código ni los mensajes que produce R al compilarlos.</p>
<p>Podéis encontrar la lista completa de parámetros que se pueden usar en <em>chunks</em> en <a href="https://yihui.org/knitr/options/">la guía de <strong>knitr</strong></a>.</p>
</div>
<div id="los-chunks-en-modo-linea" class="section level2">
<h2><span class="header-section-number">12.2</span> Los <em>chunks</em> en modo línea</h2>
<p>Los bloques de código que hemos explicado en la sección anterior sirven para generar resultados en línea aparte. Si queremos introducir dentro de un párrafo un trozo de código de R que se ejecute al compilar el documento y muestre el resultado en el documento final, hay que hacerlo con <code>`r código`</code>.</p>
<p>Por ejemplo, si en el documento <em>R Markdown</em> escribimos</p>
<p><code>El cubo de dos es  `r 2^3`, o lo que es lo mismo, 2^3^=`r 2^3`.</code></p>
<p>produce, al pulsar <em>Knit</em>, la salida</p>
<blockquote>
<p>El cubo de dos es 8, o lo que es lo mismo, 2<sup>3</sup>=8.<br />
<!--&nbsp; --></p>
</blockquote>
<p>Veamos otro ejemplo más práctico. Supongamos que nos dan una muestra y queremos calcular su media, su varianza, su desviación típica y su tamaño muestral. Entonces, podemos cargar los datos y efectuar los cálculos en un bloque de código (que, si queremos, podemos ocultar completamente en el documento final con <code>include=FALSE</code>) y a continuación en un párrafo ir llamando los resultados mediante pequeños <em>chunks</em> Por ejemplo, podríamos usar el bloque</p>
<pre class="sourceCode markdown"><code class="sourceCode markdown"><span class="bn">```{r,include=FALSE}</span>
<span class="bn">muestra=c(1,2,3,NA,2.8,3.1,4.9)</span>
<span class="bn">media=mean(muestra,na.rm=TRUE)</span>
<span class="bn">n=length(na.omit(muestra))</span>
<span class="bn">varianza=round(var(muestra,na.rm=TRUE)*(n-1)/n,3)</span>
<span class="bn">desv.tipica=round(sqrt(varianza),3)</span>
<span class="bn">```</span></code></pre>
<p>y a continuación escribir el párrafo</p>
<p><code>La muestra es de tamaño `r n`, su media es `r media`,</code><br />
<code>su varianza es `r varianza` y su desviación típica es  `r desv.tipica`.</code></p>
<p>Entonces, en el documento final, el bloque con los cálculos permanecería oculto, y este párrafo produciría</p>
<blockquote>
<p>La muestra es de tamaño 6, su media es 2.8,
su varianza es 1.403 y su desviación típica es 1.184.</p>
</blockquote>
</div>
<div id="figuras" class="section level2">
<h2><span class="header-section-number">12.3</span> Figuras</h2>
<p>En un fichero <em>R Markdown</em>, podemos controlar el tamaño, la posición etc. de los gráficos en el documento final (html, pdf o <em>Word</em>) por medio de opciones en el encabezamiento de los <em>chunks</em> que los producen. Veamos algunas de las opciones básicas más útiles:</p>
<ul>
<li><p><strong>fig.height</strong> y <strong>fig.width</strong> sirven para especificar la altura y la anchura, respectivamente, del gráfico “real”. Sus posibles valores son números enteros y se sobreentiende que están en pulgadas (no pueden usarse otras unidades); por defecto, ambos valen 7.</p></li>
<li><p><strong>out.height</strong> y <strong>out.width</strong> sirven para especificar la altura y la anchura, respectivamente, del gráfico <em>en el documento final</em>. Estas opciones son útiles si se quieren indicar las dimensiones del gráfico en tamaños relativos respecto de las medidas de la caja de texto. Así, por ejemplo, al compilar con <em>Knit PDF</em> o <em>Knit HTML</em>, si se especifican <strong>fig.height</strong> y <strong>fig.width</strong> (o se dejan con sus valores por defecto) y se incluye la opción <code>out.width=&quot;60%&quot;</code> (entrecomillado), el gráfico aparecerá en el documento escalado de manera que su ancho sea un 60% del ancho del texto; cuando se compila con <em>Knit Word</em>, <code>out.width=&quot;60%&quot;</code> no tiene ningún efecto.</p>
<p>Como norma general, os recomendamos que uséis <strong>fig.height</strong> y <strong>fig.width</strong> para especificar las dimensiones del gráfico y lo incluyáis tal cual en el documento. Solo os recomendamos usar <strong>out.height</strong> o <strong>out.width</strong> cuando de trate de gráficos que se producen de manera diferente según sus dimensiones, como pueden ser las nubes de palabras. Para incorporar una nube de palabras a tamaño reducido en un documento <em>R Markdown</em>, lo mejor es dejar que R la produzca con su tamaño por defecto y luego reducirla con <strong>out.width</strong>; si reducís sus <strong>fig.height</strong> y <strong>fig.width</strong>, puede que algunas palabras no quepan en el gráfico o que queden muy apelmazadas.</p></li>
<li><p><strong>fig.asp</strong> permite fijar la proporción altura/anchura de un gráfico si solo se especifica su <strong>fig.width</strong>.</p></li>
<li><p><strong>fig.show</strong> sirve para controlar cómo se incluyen en el documento final los gráficos producidos en el <em>chunk</em> cuando hay más de uno. Su valor por defecto es <code>&quot;as.is&quot;</code>, que los va incluyendo a medida que se generan. Con <code>fig.show=&quot;hold&quot;</code> se dibujan todos los gráficos de golpe al final del <em>chunk</em>.</p></li>
<li><p><strong>dev</strong> sirve para especificar el tipo de fichero gráfico que se genera. Solo hay un caso en que nos parece útil usar esta opción: si pensáis publicar vuestro documento html como una página web, os conviene usar <code>dev=&quot;svg&quot;</code> y el gráfico se creará en formato “<em>Scalable Vector Graphics</em>”, con lo que se escalará de manera correcta y sin perder calidad al aumentar o disminuir el ancho de la página web en el navegador.</p></li>
</ul>
<p>Para más opciones, podéis consultar la <a href="http://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">Guía de Referencia de <em>R Markdown</em></a>.</p>
<p>Por otro lado, dentro de un <em>chunk</em> podemos usar las funciones <code>par</code> y <code>layout</code>, que también aparecen en algunas lecciones del curso. Estas funciones sirven para modificar el aspecto de los gráficos generados con R, y en particular pueden usarse para especificar el modo como se agrupan los gráficos producidos en un mismo <em>chunk</em>. Su efecto es el mismo al usarlas en la consola, salvo que allí los cambios introducidos con estas funciones son permanentes hasta que volvamos a cambiarlos, mientras que en un documento <em>R Markdown</em> solo afectan a su <em>chunk</em>.</p>
<p>Con la función</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(x,y))</code></pre>
<p>organizaremos los gráficos producidos en el <em>chunk</em> formando una matriz de <span class="math inline">\(x\)</span> filas e <span class="math inline">\(y\)</span> columnas, llenando sus entradas por filas. A modo de ejemplo, si un <em>chunk</em> produce 3 gráficos y queremos mostrarlos juntos, con la opción <code>fig.show=&quot;hold&quot;</code> aparecerán al final del chunk, uno debajo del otro. En cambio, si no especificamos la opción
<strong>fig.show</strong> y al principio del <em>chunk</em> incluimos <code>par(mfrow=c(1,3))</code>, se dibujarán uno al lado del otro formando un único gráfico (y entonces conviene ajustar con <strong>fig.height</strong> y <strong>fig.width</strong> o <strong>fig.asp</strong> sus dimensiones: por ejemplo, seguramente no querremos que este gráfico compuesto sea cuadrado).</p>
<p>Esta misma construcción se puede usar en la consola, pero entonces hay que tener en cuenta que a partir de la instrucción <code>par(mfrow=c(x,y))</code> todos los gráficos se agruparán de esta manera. Para evitarlo, entrad <code>par(mfrow=c(1,1))</code> cuando queráis volver al modo por defecto de los gráficos uno a uno. Veamos un ejemplo:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))
<span class="kw">plot</span>(iris[iris<span class="op">$</span>Species<span class="op">==</span><span class="st">&quot;setosa&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">main=</span><span class="st">&quot;Sépalos de setosa&quot;</span>,
  <span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>)
<span class="kw">plot</span>(iris[iris<span class="op">$</span>Species<span class="op">==</span><span class="st">&quot;versicolor&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">main=</span><span class="st">&quot;Sépalos de </span>
<span class="st">  versicolor&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">plot</span>(iris[iris<span class="op">$</span>Species<span class="op">==</span><span class="st">&quot;virginica&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>],<span class="dt">main=</span><span class="st">&quot;Sépalos de virginica&quot;</span>,
  <span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
<span class="kw">plot</span>(iris[ <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>],<span class="dt">main=</span><span class="st">&quot;Sépalos de iris&quot;</span>,<span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>,
  <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>, <span class="dt">col=</span><span class="st">&quot;green&quot;</span>)
<span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</code></pre>
<p>produce la Figura <a href="extras-de-r-markdown.html#fig:parmod">12.1</a> y restaura el formato original.</p>
<div class="figure" style="text-align: center"><span id="fig:parmod"></span>
<img src="AprendeR-Parte-II_files/figure-html/parmod-1.png" alt="Cuatro gráficos en uno organizados con la instrucción `par(mfrow=c(2,2))`" width="768" />
<p class="caption">
Figura 12.1: Cuatro gráficos en uno organizados con la instrucción <code>par(mfrow=c(2,2))</code>
</p>
</div>
<p>En general, con la función <code>par</code> se pueden modificar “hasta nueva orden” muchos aspectos de los gráficos. Si lo hacéis, es conveniente que antes de modificarlos guardéis su valor actual con, por ejemplo, <code>par.anterior=par()</code>. A continuación, ya podéis modificar los parámetros de <code>par</code> que queráis; si en algún momento queréis volver al estilo original, bastará que entréis <code>par(par.anterior)</code>.</p>
<p>Pasemos a la función <code>layout</code>. Su sintaxis básica es</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">layout</span>(M, <span class="dt">widths=</span>..., <span class="dt">heights=</span>...)</code></pre>
<p>donde</p>
<ul>
<li><p><em>M</em> es una matriz que indica la composición en forma de cuadrícula de los gráficos que queremos agrupar en una misma figura. Sus entradas han de ser 0,1,2,…,<em>n</em> donde <em>n</em> el número de gráficos que queremos organizar (el 0 puede faltar, pero no podemos saltarnos ninguna entre 1 y <em>n</em>). Entonces, si la entrada <em>(i,j)</em> de la matriz <em>M</em> es el número <em>k&gt;0</em>, el <em>k</em>-ésimo gráfico producido en el <em>chunk</em> se situará en la posición <em>(i,j)</em> de la cuadrícula; si la entrada <em>(i,j)</em> de la matriz es 0, la posición <em>(i,j)</em> de la cuadrícula quedará vacía. Si un valor se repite en diferentes entradas de <em>M</em>, el gráfico correspondiente se reparte entre estas entradas.</p></li>
<li><p>El parámetro <code>widths</code> sirve para especificar las anchuras relativas de las diferentes columnas (por defecto, todas iguales): para ello, se iguala al vector de estas anchuras.</p></li>
<li><p>El parámetro <code>heights</code> sirve para especificar, de manera similar, las alturas relativas de las diferentes filas; por defecto, todas son iguales.</p></li>
</ul>
<p>Así, el código</p>
<pre class="sourceCode r"><code class="sourceCode r">M=<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>),<span class="dt">nrow=</span><span class="dv">2</span>,<span class="dt">byrow=</span><span class="ot">TRUE</span>)
<span class="kw">layout</span>(M)
<span class="kw">plot</span>(iris[ <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">main=</span><span class="st">&quot;Sépalos de iris&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>,
  <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>, <span class="dt">col=</span><span class="st">&quot;green&quot;</span>)
<span class="kw">plot</span>(iris[iris<span class="op">$</span>Species<span class="op">==</span><span class="st">&quot;setosa&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>], <span class="dt">main=</span><span class="st">&quot;Sépalos de setosa&quot;</span>,
  <span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>)
<span class="kw">plot</span>(iris[iris<span class="op">$</span>Species<span class="op">==</span><span class="st">&quot;versicolor&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>],<span class="dt">main=</span><span class="st">&quot;Sépalos de </span>
<span class="st">  versicolor&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)
<span class="kw">plot</span>(iris[iris<span class="op">$</span>Species<span class="op">==</span><span class="st">&quot;virginica&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>],<span class="dt">main=</span><span class="st">&quot;Sépalos de virginica&quot;</span>,
  <span class="dt">xlab=</span><span class="st">&quot;Longitud&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;Anchura&quot;</span>, <span class="dt">pch=</span><span class="dv">20</span>, <span class="dt">col=</span><span class="st">&quot;blue&quot;</span>)
<span class="kw">layout</span>(<span class="dv">1</span>)</code></pre>
<p>produce la Figura <a href="extras-de-r-markdown.html#fig:parlayout">12.2</a>, que no es ninguna maravilla, pero sirve para observar cómo la matriz <code>M</code> organiza los gráficos: el primer <code>plot</code> ocupa toda la primera fila, y los otros tres, las tres posiciones de la segunda fila ordenados de izquierda a derecha. Como antes, el efecto de <code>layout</code> es permanente, por lo que si queréis volver al modo “gráficos de uno en uno” lo más práctico es que entréis al terminar vuestro gráfico compuesto la instrucción <code>layout(1)</code>, como hemos hecho en el código anterior.</p>
<div class="figure" style="text-align: center"><span id="fig:parlayout"></span>
<img src="AprendeR-Parte-II_files/figure-html/parlayout-1.png" alt="Tres gráficos en uno organizados con la instrucción `layout(matrix(c(1,1,1,2,3,4),nrow=2,byrow=TRUE))`" width="768" />
<p class="caption">
Figura 12.2: Tres gráficos en uno organizados con la instrucción <code>layout(matrix(c(1,1,1,2,3,4),nrow=2,byrow=TRUE))</code>
</p>
</div>
</div>
<div id="tablas" class="section level2">
<h2><span class="header-section-number">12.4</span> Tablas</h2>
<p>La manera más sencilla de incluir tablas producidas con R en un fichero <em>R Markdown</em> es usando el paquete <strong>printr</strong>.
Este paquete hace que las matrices, tablas de contingencia y <em>dataframes</em> se presenten como tablas de manera adecuada, que además dependerá del formato de salida elegido. Veamos algunos ejemplos de <em>chunks</em> y cómo se ven sus resultados. Para empezar, veamos como muestra los <em>dataframes</em> en el documento final. El <em>chunk</em></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(printr)
<span class="kw">head</span>(iris)</code></pre>
<p>produce:</p>
<ul>
<li>En este documento html, la tabla siguiente:</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:tabiris1"></span>
<img src="AprendeR-Parte-II_files/figure-html/irishtml.png" alt="Una tabla en formato html producida con **printr**"  />
<p class="caption">
Figura 12.3: Una tabla en formato html producida con <strong>printr</strong>
</p>
</div>
<ul>
<li>En un documento pdf, la tabla siguiente:</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:tabiris2"></span>
<img src="AprendeR-Parte-II_files/figure-html/irispdf.png" alt="Una tabla en formato pdf producida con **printr**"  />
<p class="caption">
Figura 12.4: Una tabla en formato pdf producida con <strong>printr</strong>
</p>
</div>
<ul>
<li>En un documento <em>Word</em>, la tabla siguiente:</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:tabiris3"></span>
<img src="AprendeR-Parte-II_files/figure-html/irisword.png" alt="Una tabla en formato *Word* producida con **printr**"  />
<p class="caption">
Figura 12.5: Una tabla en formato <em>Word</em> producida con <strong>printr</strong>
</p>
</div>
<p>A partir de ahora, y en lo que queda de sección, sólo mostraremos los resultados en formato html.</p>
<p>Veamos como se ven los diferentes tipos de tabla de contingencia en el documento html final:</p>
<pre class="sourceCode r"><code class="sourceCode r">Sexo=<span class="kw">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,
  <span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;M&quot;</span>)
Respuesta=<span class="kw">c</span>(<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;No&quot;</span>,
  <span class="st">&quot;No&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Si&quot;</span>,
  <span class="st">&quot;No&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;No&quot;</span>,<span class="st">&quot;Si&quot;</span>,<span class="st">&quot;Si&quot;</span>)
Edad=<span class="kw">c</span>(<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;&gt;60&quot;</span>,<span class="st">&quot;&gt;60&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;20-40&quot;</span>,<span class="st">&quot;20-40&quot;</span>,
<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;20-40&quot;</span>,<span class="st">&quot;&lt;20&quot;</span>,<span class="st">&quot;&gt;60&quot;</span>,<span class="st">&quot;&lt;20&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;&lt;20&quot;</span>,
<span class="st">&quot;20-40&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;&lt;20&quot;</span>,<span class="st">&quot;&gt;60&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;&lt;20&quot;</span>,<span class="st">&quot;20-40&quot;</span>,
<span class="st">&quot;20-40&quot;</span>,<span class="st">&quot;&gt;60&quot;</span>,<span class="st">&quot;20-40&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;20-40&quot;</span>,<span class="st">&quot;40-60&quot;</span>,<span class="st">&quot;&lt;20&quot;</span>)
<span class="kw">table</span>(Edad)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">&lt;20</th>
<th align="right">&gt;60</th>
<th align="right">20-40</th>
<th align="right">40-60</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">6</td>
<td align="right">5</td>
<td align="right">8</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(Respuesta,Edad)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Respuesta/Edad</th>
<th align="right">&lt;20</th>
<th align="right">&gt;60</th>
<th align="right">20-40</th>
<th align="right">40-60</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Si</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">7</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(Respuesta,Sexo,Edad)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Respuesta</th>
<th align="left">Sexo</th>
<th align="left">Edad</th>
<th align="right">Freq</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No</td>
<td align="left">H</td>
<td align="left">&lt;20</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">&gt;60</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">20-40</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">40-60</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">M</td>
<td align="left">&lt;20</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">&gt;60</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">20-40</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">40-60</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Si</td>
<td align="left">H</td>
<td align="left">&lt;20</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">&gt;60</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">20-40</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">40-60</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">M</td>
<td align="left">&lt;20</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">&gt;60</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">20-40</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">40-60</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Veamos finalmente como se ven las matrices en el documento html final.</p>
<pre class="sourceCode r"><code class="sourceCode r">M=<span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">8</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">2</span>,
   <span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">10</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">2</span>,<span class="dv">10</span>,<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">5</span>),<span class="dt">nrow=</span><span class="dv">8</span>)
M</code></pre>
<table>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">6</td>
<td align="right">9</td>
<td align="right">8</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">10</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">10</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">8</td>
<td align="right">10</td>
<td align="right">3</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dimnames</span>(M)=<span class="kw">list</span>(<span class="ot">NULL</span>, <span class="kw">paste</span>(<span class="st">&quot;Col&quot;</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="dt">sep=</span><span class="st">&quot;.&quot;</span>))
M</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">Col.1</th>
<th align="right">Col.2</th>
<th align="right">Col.3</th>
<th align="right">Col.4</th>
<th align="right">Col.5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">6</td>
<td align="right">9</td>
<td align="right">8</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">10</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">10</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">8</td>
<td align="right">10</td>
<td align="right">3</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<p>Si en algún momento queréis volver a la presentación usual de matrices, <em>dataframes</em> y tablas de contingencia, basta que descarguéis el paquete <strong>printr</strong> entrando en un <em>chunk</em> la instrucción</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">detach</span>(package<span class="op">:</span>printr, <span class="dt">unload=</span><span class="ot">TRUE</span>)</code></pre>
<p>y luego ya lo volveréis a cargar si lo necesitáis de nuevo. Así, ahora que ya hemos descargado el paquete, la matriz <em>M</em> anterior se ve:</p>
<pre class="sourceCode r"><code class="sourceCode r">M</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">Col.1</th>
<th align="right">Col.2</th>
<th align="right">Col.3</th>
<th align="right">Col.4</th>
<th align="right">Col.5</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">6</td>
<td align="right">9</td>
<td align="right">8</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">10</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">2</td>
<td align="right">9</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">10</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">7</td>
<td align="right">3</td>
<td align="right">3</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">8</td>
<td align="right">10</td>
<td align="right">3</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
</div>
<div id="formulas-matematicas" class="section level2">
<h2><span class="header-section-number">12.5</span> Fórmulas matemáticas</h2>
<p>La manera de incluir fórmulas matemáticas en <em>R Markdown</em> se basa en la sintaxis del sistema de composición de textos científicos LaTeX. Esta misma sintaxis, con pequeñas modificaciones, se usa para escribir fórmulas matemáticas bien formateadas en otros contextos: en los foros de <em>Moodle</em>, en las entradas y comentarios de blogs en <em>Blogger</em> o <em>Wordpress</em>, en la <em>Wikipedia</em>, etc.</p>
<p>Incluir fórmulas en un texto <em>R Markdown</em> no tiene ningún misterio. Solo hay que introducir el código que representa la fórmula de una de las dos formas siguientes:</p>
<ul>
<li><p>Para las fórmulas o ecuaciones dentro del mismo párrafo, se escribe el código entre dos dólares: <code>$código$</code>.</p></li>
<li><p>Para las fórmulas o ecuaciones que queramos que aparezcan centradas en una línea aparte, se escribe el código entre dos dobles dólares: <code>$$código$$</code>.</p></li>
</ul>
<p>Al componer una fórmula a partir del código, <em>RStudio</em> ignora los espacios en blanco que hayamos escrito en ella, y añade los espacios en blanco a partir del significado lógico de sus elementos. Por ejemplo (y dejamos algunos espacios en blanco innecesarios para que veáis que no tienen ningún efecto en el resultado), el código siguiente:</p>
<pre><code>Las raíces de la ecuación $x^2= 2$ son $x=\sqrt{ 2}$ y $x=-\sqrt{2} $; 
en general, las raíces de $ax^2+b  x+c=0$, con $a\neq 0$, vienen dadas 
por la fórmula 
$$
x=\frac{-b\pm\sqrt{b^2-4 a c}}{2a}.
$$</code></pre>
<p>produce el texto siguiente:</p>
<blockquote>
<p>Las raíces de la ecuación <span class="math inline">\(x^2=2\)</span> son <span class="math inline">\(x=\sqrt{2}\)</span> y <span class="math inline">\(x=-\sqrt{2}\)</span>; en general, las raíces de <span class="math inline">\(ax^2+bx+c=0\)</span>, con <span class="math inline">\(a\neq 0\)</span>, vienen dadas por la fórmula <span class="math display">\[x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}.\]</span></p>
</blockquote>
<p>Observad el código:</p>
<ul>
<li><p>Las potencias, y en general los superíndices, se indican con <code>^</code>.</p></li>
<li><p>La raíz cuadrada de <em>algo</em> se indica con <code>\sqrt{algo}</code> (de <em>square root</em>).</p></li>
<li><p>Una fracción se indica con <code>\frac{numerador}{denominador}</code> (de <em>fraction</em>).</p></li>
<li><p>Los signos <span class="math inline">\(\pm\)</span> y <span class="math inline">\(\neq\)</span> se indican con las marcas <code>\pm</code> (de <em>plus-minus</em>) y <code>\neq</code> (de <em>not equal</em>), respectivamente.</p></li>
</ul>
<p>Como podéis ver, las marcas de LaTeX que definen los diferentes elementos de las fórmulas matemáticas tienen nombres intuitivamente claros y (salvo las que corresponden a sígnos usuales como la suma o la resta) empiezan con el signo <code>\</code>.</p>
<p>A continuación damos algunas tablas con las marcas correspondientes a algunos de los signos matemáticos más usuales:</p>
<ul>
<li>Algunos operadores binarios</li>
</ul>
<p><span class="math display">\[
\begin{array}{cl|cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}  &amp;\text{Signo} &amp; \text{Marca} \\ \hline
+ &amp; \texttt{+}           &amp;- &amp; \texttt{-} &amp; \pm &amp; \texttt{\pm} &amp;
\times &amp; \texttt{\times}      \\  \cdot &amp; \texttt{\cdot}      &amp; / &amp; \texttt{/} &amp; \cap &amp; \texttt{\cap} &amp;  \cup &amp; \texttt{\cup}    &amp;
\end{array}
\]</span></p>
<ul>
<li><p>Algunos signos para relaciones
<span class="math display">\[
\begin{array}{cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}   \\ \hline
=&amp; \texttt{=}     &amp; \neq &amp; \texttt{\neq}    &amp;&lt; &amp; \texttt{&lt;}             \\&gt; &amp; \texttt{&gt;} &amp;
\leqslant&amp; \texttt{\leqslant}  &amp; \geqslant&amp; \texttt{\geqslant}    \\ \subseteq &amp; \texttt{\subseteq}   &amp; \subsetneq &amp; \texttt{\subsetneq} &amp;
\in &amp; \texttt{\in}  \\  \equiv  &amp; \texttt{\equiv }   &amp;\sim &amp; \texttt{\sim}    &amp; \approx   &amp; \texttt{\approx}  
\end{array}
\]</span></p></li>
<li><p>Algunos operadores</p></li>
</ul>
<p><span class="math display">\[
\begin{array}{cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}  \\ \hline
\sum&amp; \texttt{\sum}         &amp;\prod&amp; \texttt{\prod}  
&amp; \bigcap&amp; \texttt{ \bigcap} \\
\bigcup&amp; \texttt{\bigcup} &amp;  \int&amp; \texttt{\int}         
\end{array}
\]</span></p>
<ul>
<li>Algunos delimitadores</li>
</ul>
<p><span class="math display">\[
\begin{array}{cl|cl|cl}
\text{Signos} &amp; \text{Marcas} &amp; \text{Signos} &amp; \text{Marcas} &amp;\text{Signos} &amp; \text{Marcas} \\ \hline
(\quad )&amp; \texttt{( )}        &amp; [\quad ]&amp; \texttt{[ ]}    &amp; \{\quad \} &amp; \texttt{\\{ \\}} \\
\lfloor\quad\rfloor &amp;  \texttt{\lfloor \rfloor}      &amp;\lceil\quad \rceil&amp; \texttt{\lceil \rceil}      
\end{array}
\]</span></p>
<ul>
<li>Algunas letras griegas: la marca es simplemente su nombre (en inglés) precedido del signo <code>\</code></li>
</ul>
<p><span class="math display">\[
\begin{array}{cl|cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}  &amp;\text{Signo} &amp; \text{Marca} \\ \hline
\alpha&amp; \texttt{\alpha}         &amp;\beta&amp; \texttt{\beta}          &amp;\gamma&amp; \texttt{\gamma}         &amp;\delta&amp; \texttt{\delta}      \\
\epsilon&amp; \texttt{\epsilon}   &amp; \theta&amp; \texttt{\theta}   &amp;\gamma&amp; \texttt{\gamma}        &amp; \lambda&amp; \texttt{\lambda}      \\
\mu&amp; \texttt{\mu}           &amp;\nu&amp; \texttt{\nu}  &amp;\pi&amp; \texttt{\pi} &amp; \rho&amp; \texttt{\rho}\\
\sigma&amp; \texttt{\sigma}        &amp;\tau &amp; \texttt{\tau }  &amp;\varphi&amp; \texttt{\varphi}        &amp;\chi&amp; \texttt{\chi}     \\
\omega&amp; \texttt{\omega}   &amp; \Gamma&amp; \texttt{\Gamma}   &amp; \Sigma&amp; \texttt{\Sigma}    &amp;\Omega&amp; \texttt{\Omega}       
\end{array}
\]</span></p>
<ul>
<li><p>Algunos acentos en matemáticas
<span class="math display">\[
\begin{array}{cl|cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}  &amp;\text{Signo} &amp; \text{Marca} \\ \hline
\hat{x}&amp; \texttt{\hat x}    &amp;\bar{x}&amp; \texttt{\bar x}    &amp;\dot{x}&amp; \texttt{\dot x}  &amp; \tilde{x}&amp; \texttt{\tilde x}    
\end{array}
\]</span></p></li>
<li><p>Algunos acentos “expandibles”</p></li>
</ul>
<p><span class="math display">\[
\begin{array}{cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} \\ \hline
\widetilde{xyz} &amp; \texttt{\widetilde{xyz}}      &amp;\widehat{xyz}&amp; \texttt{\widehat{xyz}}  \\
\overline{xyz}&amp; \texttt{\overline{xyz}}  &amp; \overbrace{xyz}&amp; \texttt{\overbrace{xyz}}           
\end{array}
\]</span></p>
<ul>
<li><p>Algunas flechas
<span class="math display">\[
\begin{array}{cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}  \\ \hline
\leftarrow &amp; \texttt{\leftarrow}       &amp; \Leftarrow &amp; \texttt{\Leftarrow}            &amp;\rightarrow &amp; \texttt{\rightarrow} \\
\Rightarrow &amp; \texttt{\Rightarrow} &amp; 
\leftrightarrow &amp; \texttt{\leftrightarrow}  &amp; \Leftrightarrow &amp; \texttt{\Leftrightarrow}      \\ \mapsto &amp; \texttt{\mapsto}      
\end{array}
\]</span></p></li>
<li><p>Algunas funciones
<span class="math display">\[
\begin{array}{cl|cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}  &amp;\text{Signo} &amp; \text{Marca} \\ \hline
\sin &amp; \texttt{\sin} &amp; \cos &amp; \texttt{\cos}  &amp;\tan &amp; \texttt{\tan}  &amp; \log &amp; \texttt{\log} \\
\ln &amp; \texttt{\ln}  &amp; \max &amp; \texttt{\max} &amp; \min &amp; \texttt{\min} &amp; \lim &amp; \texttt{\lim}\\
\end{array}
\]</span></p></li>
<li><p>Otros signos útiles
<span class="math display">\[
\begin{array}{cl|cl|cl}
\text{Signo} &amp; \text{Marca} &amp; \text{Signo} &amp; \text{Marca} &amp;\text{Signo} &amp; \text{Marca}   \\ \hline
\ldots &amp; \texttt{\ldots}        &amp;\cdots &amp; \texttt{\cdots} &amp;    \infty &amp; \texttt{\infty}  \\
\emptyset &amp; \texttt{\emptyset} &amp; \$ &amp; \texttt{\$} \% &amp; \texttt{\%}
\end{array}
\]</span></p></li>
</ul>
<p>Algunos puntos que hay que tener en cuenta en la composición de fórmulas:</p>
<ul>
<li><p>Los subíndices y superíndices se indican con los signos <code>_</code> y <code>^</code>, respectivamente. Si el subíndice o superíndice está formado por dos o más caracteres, hay que entrarlo entre llaves. Por ejemplo, <code>$x_i$</code> produce <span class="math inline">\(x_i\)</span> y <code>$x^{25}$</code> produce <span class="math inline">\(x^{25}\)</span>, pero, cuidado, <code>$x^25$</code> produce <span class="math inline">\(x^25\)</span>.</p></li>
<li><p>Disponéis de diversos tipos de letra para usar en fórmulas matemáticas. Las dos más útiles son:</p>
<ul>
<li><p><strong>Negrita</strong>, que se indica con <code>\mathbf{...}</code>; por ejemplo, <code>\mathbf{X}</code> y <code>\mathbf{a}</code> producen <span class="math inline">\(\mathbf{X}\)</span> y <span class="math inline">\(\mathbf{a}\)</span>, respectivamente.</p></li>
<li><p>La llamada <strong>Negrita de pizarra</strong>, que se usa en las notaciones de algunos conjuntos de números y se indica con <code>\mathbb{...}</code>; por ejemplo, <code>\mathbb{N}</code> produce <span class="math inline">\(\mathbb{N}\)</span> (el conjunto de los números naturales) y <code>\mathbb{R}</code> produce <span class="math inline">\(\mathbb{R}\)</span> (los números reales).</p></li>
</ul></li>
<li><p><code>\sqrt</code> produce raíces cuadradas o de orden superior: <code>\sqrt{xyz}</code> produce <span class="math inline">\(\sqrt{xyz}\)</span> mientras que <code>\sqrt[n]{xyz}</code> produce <span class="math inline">\(\sqrt[n]{xyz}\)</span>.</p></li>
<li><p><code>\frac{numerador}{denominador}</code> produce fracciones; su tamaño y composición depende de si la fórmula ha de aparecer en el interior de un párrafo o ha de aparecer en línea aparte. Por ejemplo, <code>$\frac{abc}{xyz}$</code> produce <span class="math inline">\(\frac{abc}{xyz}\)</span>.</p></li>
<li><p>Podemos especificar que los delimitadores se adapten a la altura de la expresión que envuelven, combinándolos con <code>\left</code> y <code>\right</code>.
Comparad los tamaños de los paréntesis en <code>$\left(X\right)$</code> y <code>$\left(\frac{abc}{xyz}\right)$</code>, que producen <span class="math inline">\(\left(X\right)\)</span> y <span class="math inline">\(\left(\frac{abc}{xyz}\right)\)</span>, respectivamente.</p></li>
<li><p>Podemos incluir <em>chunks</em> en modo línea dentro de fórmulas matemáticas: por ejemplo, <code>$\sqrt{2}=`r round(sqrt(2),4)`$</code> produce en el documento final <span class="math inline">\(\sqrt{2}=1.4142\)</span>.</p></li>
</ul>
<p>Podemos incluir matrices, o, más en general, tablas, en las fórmulas matemáticas. Una tabla se define empezando con <code>\begin{array}{formato}</code> y acabando con <code>\end{array}</code>. El formato es una secuencia de letras <code>l</code> (de izquierda, <em>left</em>), <code>r</code> (de derecha, <em>right</em>) o <code>c</code> (de centrada): el número de letras indica el número de columnas, y cada letra indica el tipo de alineamiento de la columna correspondiente. Así, por ejemplo, <code>\begin{array}{rccl}</code> define una tabla de cuatro columnas: la primera alineada a la derecha, la segunda y la tercera centradas, y la cuarta alineada a la izquierda.</p>
<p>Entre el <code>\begin{array}{formato}</code> y el <code>\end{array}</code> se introducen por filas los valores de la tabla: los elementos de cada fila se separan con el signo <code>&amp;</code> y el cambio de fila se indica con <code>\\</code>.</p>
<p>Para definir una matriz, hemos de envolver la tabla con los delimitadores <code>\left(</code> y <code>\right)</code>. Por ejemplo,</p>
<pre><code>$$
\left(\begin{array}{ccc}
a_{1,1} &amp; a_{1,2} &amp; a_{1,3}\\
a_{2,1} &amp; a_{2,2} &amp; a_{2,3}
\end{array}\right)
$$</code></pre>
<p>produce la matriz (en línea aparte)
<span class="math display">\[
\left(\begin{array}{ccc}
a_{1,1} &amp; a_{1,2} &amp; a_{1,3}\\
a_{2,1} &amp; a_{2,2} &amp; a_{2,3}
\end{array}\right)
\]</span>
De manera similar, para indicar el determinante de una matriz, hemos de usar los delimitadores <code>\left |</code> y <code>\right |</code>.</p>
<p>Dos cuestiones a tener en cuenta:</p>
<ul>
<li>Si sólo queremos usar un delimitador a un lado de la tabla, tenemos que incluir al otro lado <code>\left.</code> o <code>\right.</code>, según corresponda; las marcas <code>\left</code> y <code>\right</code> siempre han de ir en parejas. Por ejemplo,</li>
</ul>
<pre><code>$$
\left.\begin{array}{l}
2x+3y=5\\
6x-2y=8
\end{array}\right\}
$$</code></pre>
<p>produce el sistema de ecuaciones
<span class="math display">\[
\left.\begin{array}{l}
2x+3y=5\\
6x-2y=8
\end{array}\right\}
\]</span></p>
<ul>
<li>Si en una entrada de una tabla en modo matemático queremos introducir texto, lo tenemos que incluir en una
caja de texto definida con la instrucción <code>\text{...}</code>.
Por ejemplo,</li>
</ul>
<pre><code>$$
f(x)=\left\{
\begin{array}{ll}
2x &amp; \text{si }x\leq 0 \\
3x   &amp;  \text{si }x\geq 0
\end{array}
\right.
$$</code></pre>
<p>produce
<span class="math display">\[
f(x)=\left\{
\begin{array}{ll}
2x &amp; \mbox{si }x\leqslant 0 \\
3x   &amp;  \mbox{si }x\geqslant 0
\end{array}
\right.
\]</span>
Observad que hemos dejado un espacio en blanco dentro de los <code>\text{si }</code> para separar los “si” de las fórmulas que los siguen:
el contenido de un <code>\text{...}</code> se transforma en texto, y por lo tanto se tienen en cuenta los espacios en blanco igual que en el texto normal.</p>
<p>Si necesitáis escribir expresiones matemáticas de manera regular en vuestros documentos <em>R Markdown</em>, os recomendamos que consultéis
la sección de Matemáticas del <a href="http://en.wikibooks.org/wiki/LaTeX/Mathematics"><em>Wikibook</em> de LaTeX</a>.</p>

</div>
</div>



















            </section>

          </div>
        </div>
      </div>
<a href="chap-clustering.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"download": ["pdf", "epub"]
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
